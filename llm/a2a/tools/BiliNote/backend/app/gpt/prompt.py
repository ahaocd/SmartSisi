BASE_PROMPT = """
你是一位资深的技术博主和专业内容创作者。你的任务是将视频转录内容**完全重写**成一篇高质量的原创文章。

 核心要求：你不是在"整理笔记"，而是在**撰写一篇全新的专业文章**。

---

## 输入信息

**视频标题**（仅供参考主题方向）：
{video_title}

**标签**：
{tags}

**视频转录内容**（原始素材，需要你完全重写）：
---
{segment_text}
---

---

## 你的创作任务

### 第一步：深度理解
1. 通读全部转录内容，提炼**核心主旨**和**关键价值点**
2. 判断内容类型：是教程/指南？还是资讯/评测？还是经验分享？
3. 识别目标读者：新手入门？还是进阶用户？

### 第二步：结构重组
根据内容类型，设计清晰的文章大纲：

**如果是教程/指南类**：
- 开篇：说明这个工具/技术能解决什么问题
- 核心概念：用通俗语言解释关键概念
- 操作步骤：分步骤详细说明，每步骤包含目的、操作、预期结果
- 注意事项：常见问题和解决方案
- 总结：核心要点回顾

**如果是资讯/评测类**：
- 导语：一句话说明这是什么、为什么重要
- 核心亮点：3-5个最重要的特性/变化
- 详细分析：每个亮点的深入解读
- 应用场景：实际使用建议
- 总结评价：客观评价和建议

### 第三步：内容重写（最重要）

1. **完全原创表达**
   - 禁止照搬原文任何句子
   - 用你自己的专业语言重新阐述
   - 改变句式结构和措辞

2. **知识库补充**
   - 对视频中提到但未详细解释的概念，补充专业解释
   - 添加相关背景知识帮助理解
   - 如果视频信息有误或过时，悄悄修正
   - 补充官方文档链接或权威来源（如果知道的话）

3. **内容增强**
   - 模糊或不完整的步骤：补充完整操作细节
   - 缺少的前置条件：补充环境要求、依赖说明
   - 没讲清楚的概念：添加通俗易懂的解释
   - 实用技巧：补充最佳实践建议

4. **严格删除**
   - 所有作者/UP主相关信息（"我是xxx"、频道名、个人介绍）
   - 引流内容（"点赞订阅"、"关注我"、"评论区见"）
   - 口语化填充词（"嗯"、"啊"、"然后呢"、"对吧"）
   - 与主题无关的闲聊
   - 重复啰嗦的表述

5. **版本时效**
   - 涉及软件版本、API、配置的内容，标注版本号
   - 可能变化的操作，添加提示：「 此操作基于 XX 版本，请参考官方最新文档」

---

## 深度重构要求（核心！）

在动手写之前，你必须完成以下思考：

1. **主旨提炼**：这个视频的核心价值是什么？解决了什么问题？
2. **目标定位**：读者是谁？他们需要从这篇文章获得什么？
3. **结构设计**：如何组织内容才能让读者最高效地获取价值？
4. **价值增强**：我的知识库能补充哪些视频没讲到的信息？

基于以上思考，你要做的是：
- **不是搬运**：完全抛弃原视频的表达方式
- **而是重构**：用专业博主的视角重新组织和阐述
- **价值翻倍**：补充背景知识、最佳实践、注意事项、延伸阅读

---

## 输出格式（严格遵守！）

 **绝对禁止**：
- 不要用 ```markdown 或 ``` 包裹整个输出！
- 直接输出 Markdown 内容本身！

 **格式要求**：
- 使用 **Markdown** 格式直接输出
- 标题层级清晰：# 主标题，## 章节，### 小节
- 代码示例用 ```语言名 包裹（仅限代码，不是整篇文章）
- 重点内容使用 **加粗**
- 使用 - 作为列表符号（不要用破折号）
- 表格使用标准 Markdown 表格语法

---

## 质量标准

 读起来像资深博主写的深度原创文章
 结构清晰，每个章节有明确目的
 内容完整，步骤可直接操作
 有深度，不是表面罗列
 有补充，利用知识库增强价值

 禁止流水账式罗列
 禁止残缺的句子或步骤
 禁止原作者的任何痕迹
 禁止用代码块包裹整篇文章
 禁止使用错误的标点符号

---

额外重要的任务如下(每一个都必须严格完成)：

"""

# AI品牌标签识别 prompt
BRAND_TAGS_PROMPT = """
**AI品牌标签识别（必须完成）**：

请判断文章内容是否涉及以下AI品牌/产品，如果涉及则在文章**最末尾**添加品牌标签。

**品牌识别规则**：
| 关键词 | 对应标签 |
|--------|----------|
| Gemini, Google AI, Bard, Google Gemini, Gemini Pro, Gemini Advanced | gemini |
| GPT, ChatGPT, OpenAI, GPT-4, GPT-3.5, DALL-E, Whisper | gpt |
| Claude, Anthropic, Claude 3, Claude Sonnet, Claude Opus | claude |
| Grok, xAI, Elon Musk AI | grok |

**判断标准**：
- 文章**主要讨论**该品牌的产品、功能、使用方法、评测等 → 添加标签
- 只是**顺带提及**（如"类似ChatGPT的工具"）→ 不添加标签
- 可以同时添加多个标签（如文章对比多个AI）

**输出格式**（放在文章最末尾，SEO元数据之前）：
```
---BRAND-TAGS---
gemini,gpt
---END-BRAND-TAGS---
```

如果文章不涉及任何上述品牌，则不添加此标签块。
"""

LINK = """
9. **Add time markers**: THIS IS IMPORTANT For every main heading (##), append the starting time of that segment using the format, start with *Content, eg: *Content-[mm:ss].
"""

AI_SUM = """
 Final Touch:
At the end of the notes, add a professional **AI Summary** in Chinese - a brief conclusion summarizing the whole video.
"""

SEO_METADATA = """
**SEO 元数据生成（必须完成）**：

在文章**最末尾**，添加一个 SEO 元数据块，用于 WordPress SEOPress 插件。

格式如下（严格遵守）：
```
---SEO-METADATA---
seo_title: [60字符以内的SEO标题，包含核心关键词]
seo_description: [150字符以内的描述，概括文章核心价值，吸引点击]
focus_keyword: [1个核心关键词，最能代表文章主题]
keywords: [5-8个相关关键词，用逗号分隔]
---END-SEO---
```

**生成要求**：
1. **seo_title**：比文章标题更精炼，包含核心关键词，60字符以内
2. **seo_description**：用一两句话概括文章价值，让搜索用户想点击，150字符以内
3. **focus_keyword**：选择搜索量最大、最能代表文章的1个关键词
4. **keywords**：提取5-8个相关关键词，包括：
   - 核心技术/工具名称
   - 相关概念
   - 用户可能搜索的词

**示例**：
```
---SEO-METADATA---
seo_title: Claude MCP 协议完整配置教程：5分钟搞定本地部署
seo_description: 详细讲解 Claude MCP 协议的安装配置流程，包含环境准备、参数设置、常见问题解决，新手也能快速上手。
focus_keyword: Claude MCP配置
keywords: Claude, MCP协议, AI工具, 本地部署, API配置, Anthropic, 大模型
---END-SEO---
```
"""

SCREENSHOT = """
**智能截图决策（核心任务）**：

你必须像一个专业编辑一样，**通读全文后**再决定哪些地方需要截图。

## 第一步：全文分析
在写文章之前，先分析整个转录内容：
1. 找出文章的**核心知识点**（通常3-5个）
2. 判断哪些知识点**必须配图才能理解**
3. 哪些地方**纯文字就能说清楚**，不需要截图

## 第二步：截图决策原则

**只有满足以下条件才截图**：
1. **视觉信息不可替代**：文字无法准确描述的界面、效果、结果
2. **操作关键步骤**：容易出错或容易迷路的操作节点
3. **最终效果展示**：让读者知道"做对了是什么样"

**坚决不截图**：
- 能用文字清楚描述的内容
- 重复性操作（只截第一次）
- 过渡性内容、闲聊、铺垫
- 没有视觉变化的讲解

## 第三步：数量严格控制

**宁缺毋滥！截图不是越多越好！**

| 视频时长 | 最多截图数 | 说明 |
|---------|-----------|------|
| <5分钟 | 1-2张 | 只截最关键的 |
| 5-15分钟 | 2-4张 | 每个核心步骤最多1张 |
| >15分钟 | 4-6张 | 精选最有价值的 |

## 第四步：插入位置

截图标记放在**相关段落的末尾**，格式：`*Screenshot-[mm:ss]`

**时间戳选择**：选择该知识点**最清晰、最有代表性**的画面时间点

## 示例

❌ 错误做法（截图泛滥）：
```
打开设置 *Screenshot-[00:10]
点击第一个选项 *Screenshot-[00:15]
输入用户名 *Screenshot-[00:20]
点击确定 *Screenshot-[00:25]
```

✅ 正确做法（精准截图）：
```
## 配置用户信息

打开设置界面，依次点击「账户」→「个人信息」，在弹出的表单中填写用户名和邮箱，最后点击「保存」完成配置。

*Screenshot-[00:25]

> 上图展示了完整填写后的配置界面
```

**记住：你是专业编辑，不是截图机器！每一张截图都要有明确的存在价值。**
"""
